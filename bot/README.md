# Max University Bot

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ api/              # –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ MAX Bot API
‚îÇ   ‚îú‚îÄ‚îÄ admins.go
‚îÇ   ‚îú‚îÄ‚îÄ api.go
‚îÇ   ‚îú‚îÄ‚îÄ chats.go
‚îÇ   ‚îú‚îÄ‚îÄ client.go
‚îÇ   ‚îú‚îÄ‚îÄ messages.go
‚îÇ   ‚îî‚îÄ‚îÄ videos.go
‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ config.go
‚îú‚îÄ‚îÄ handlers/         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ handler.go
‚îú‚îÄ‚îÄ keyboards/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îÇ   ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ pages/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ pages.go
‚îú‚îÄ‚îÄ types/            # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ types.go
‚îî‚îÄ‚îÄ main.go           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. Types (`types/types.go`)
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
- –¢–∏–ø—ã —Å—Ç—Ä–∞–Ω–∏—Ü (`Page`)
- –î–µ–π—Å—Ç–≤–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (`NavigationAction`)
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (NewsItem, ScheduleItem, ServiceItem –∏ —Ç.–¥.)

### 2. Keyboards (`keyboards/main.go`)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä:
- `MainMenu()` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `ServicesMenu()` - –º–µ–Ω—é —Å–µ—Ä–≤–∏—Å–æ–≤
- `ProfileMenu()` - –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
- `BackMenu()` - –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥"
- `HomeMenu()` - –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π "–ì–ª–∞–≤–Ω–∞—è"

### 3. Pages (`pages/pages.go`)
–°—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞:
- `ShowMainPage()` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `ShowServicesPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- `ShowProfilePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è
- `ShowSchedulePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `ShowNewsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- `ShowTeachersPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- `ShowContactsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- `ShowMapsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ä—Ç—ã
- `ShowChatsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–æ–≤
- `ShowDebtsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–≥–æ–≤
- `ShowGradebookPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—á–µ—Ç–∫–∏
- `ShowNotificationsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `ShowThemePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–º
- `ShowPlatformsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `HandleCallback()`.

### 4. Handlers (`handlers/handler.go`)
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è:
- `handleMessage()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `handleCallback()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
- `handleBotStarted()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ callback-–∫–Ω–æ–ø–∫–∏. –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç `callbackID`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `NavigationAction`:
- `open_main` - –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é
- `open_services` - –æ—Ç–∫—Ä—ã—Ç—å —Å–µ—Ä–≤–∏—Å—ã
- `open_profile` - –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `open_schedule` - –æ—Ç–∫—Ä—ã—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `open_news` - –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
- `back` - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥
- `home` - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `types/types.go`:
```go
const (
    PageNewPage Page = "new_page"
)
```

2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
```go
const (
    ActionOpenNewPage NavigationAction = "open_new_page"
)
```

3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `pages/pages.go`:
```go
func (p *PagesAPI) ShowNewPage(ctx context.Context, userID int64) error {
    text := "üÜï *–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞*\n\n"
    text += "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã..."

    msg := p.api.Messages.NewMessage().
        SetUser(userID).
        SetText(text).
        AddKeyboard(p.keyboards.BackMenu())

    _, err := p.api.Messages.Send(ctx, msg)
    return err
}
```

4. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `HandleCallback()`:
```go
case types.ActionOpenNewPage:
    return p.ShowNewPage(ctx, userID)
```

5. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –º–µ–Ω—é –≤ `keyboards/main.go`:
```go
keyboard.
    AddRow().
    AddCallback("üÜï –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞", schemes.POSITIVE, string(types.ActionOpenNewPage))
```

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥–ª—É—à–∫–∏. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤ –ø–∞–ø–∫–µ `services/`:
```go
// services/university.go
func GetSchedule(ctx context.Context, userID int64) ([]types.ScheduleItem, error) {
    // –ó–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É API
}
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:
```go
schedule, err := services.GetSchedule(ctx, userID)
if err != nil {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
}
```

## –ó–∞–ø—É—Å–∫

–°–º. `–õ–û–ö–ê–õ–¨–ù–´–ô_–ó–ê–ü–£–°–ö.md` –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞.

