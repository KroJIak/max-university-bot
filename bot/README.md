# Max University Bot

–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ó–∞–ø—É—Å–∫](#–∑–∞–ø—É—Å–∫)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

**Max University Bot** ‚Äî —ç—Ç–æ –±–æ—Ç –¥–ª—è MAX Messenger, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MAX Bot API. –ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π
- üì∞ –ß—Ç–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
- üë®‚Äçüè´ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö
- üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∫–∞—Ä—Ç—ã
- üí¨ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏
- üìä –ó–∞—á–µ—Ç–∫–∞ –∏ –¥–æ–ª–≥–∏
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
- üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go 1.23+** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1.23.12)
- **Git** (–¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- **Docker** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Docker Compose)
- **MAX Bot Token** (–ø–æ–ª—É—á–∏—Ç—å —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ MAX)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd Max-University-Bot/bot
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
go mod download
go mod tidy
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

**–î–ª—è Linux ARM64 (Raspberry Pi):**
```bash
cd /tmp
wget https://go.dev/dl/go1.23.12.linux-arm64.tar.gz
sudo rm -rf /usr/local/go
sudo tar -C /usr/local -xzf go1.23.12.linux-arm64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc
go version
```

**–î–ª—è Linux AMD64:**
```bash
cd /tmp
wget https://go.dev/dl/go1.23.12.linux-amd64.tar.gz
sudo rm -rf /usr/local/go
sudo tar -C /usr/local -xzf go1.23.12.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc
go version
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë–æ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `.env`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`Max-University-Bot/.env`).

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ MAX (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
MAX_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# URL API —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://max-api.cloudpub.ru)
UNIVERSITY_API_URL=https://max-api.cloudpub.ru

# URL –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: https://max-miniapp.cloudpub.ru/)
WEB_APP_URL=https://max-miniapp.cloudpub.ru/
```

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|--------------|
| `MAX_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ MAX Messenger | ‚úÖ –î–∞ | - |
| `UNIVERSITY_API_URL` | URL API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ | ‚ùå –ù–µ—Ç | `https://max-api.cloudpub.ru` |
| `WEB_APP_URL` | URL –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (mini-app) | ‚ùå –ù–µ—Ç | `https://max-miniapp.cloudpub.ru/` |

**–í–∞–∂–Ω–æ:** –§–∞–π–ª `.env` –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore`).

## üèÉ –ó–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

**–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:**
```bash
cd /home/goliluxa/workspace/Max-University-Bot/bot && go mod download && go mod tidy && go run main.go
```

**–ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:**
```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –±–æ—Ç–∞
cd Max-University-Bot/bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
go mod download
go mod tidy

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
go run main.go
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:** –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç.

### –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞

```bash
cd Max-University-Bot/bot
go build -o bot main.go
./bot
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–°–º. –æ—Å–Ω–æ–≤–Ω–æ–π [README.md](../README.md) –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ Docker Compose.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
Bot started: –ò–º—è–ë–æ—Ç–∞ (ID: 12345)
Bot is running. Press Ctrl+C to stop.
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ api/                  # –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ MAX Bot API
‚îÇ   ‚îú‚îÄ‚îÄ admins.go        # –†–∞–±–æ—Ç–∞ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ api.go           # –ì–ª–∞–≤–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ chats.go         # –†–∞–±–æ—Ç–∞ —Å —á–∞—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ client.go        # –ö–ª–∏–µ–Ω—Ç –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ messages.go      # –†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ videos.go        # –†–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ config.go        # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ handler.go       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚îú‚îÄ‚îÄ keyboards/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îÇ   ‚îú‚îÄ‚îÄ main.go         # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, —Å–µ—Ä–≤–∏—Å—ã)
‚îÇ   ‚îú‚îÄ‚îÄ chats.go        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —á–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ clubs.go        # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∫–ª—É–±–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ contacts.go     # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ maps.go         # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∫–∞—Ä—Ç
‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ pages.go        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü –±–æ—Ç–∞
‚îú‚îÄ‚îÄ services/            # –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
‚îÇ   ‚îú‚îÄ‚îÄ university_api.go      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ subgroup_settings.go   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–≥—Ä—É–ø–ø
‚îú‚îÄ‚îÄ types/               # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ types.go        # –¢–∏–ø—ã —Å—Ç—Ä–∞–Ω–∏—Ü, –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ utils/               # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ format.go       # –£—Ç–∏–ª–∏—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ go.mod               # –ú–æ–¥—É–ª—å Go –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ go.sum               # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ Dockerfile           # Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. Types (`types/types.go`)
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
- –¢–∏–ø—ã —Å—Ç—Ä–∞–Ω–∏—Ü (`Page`)
- –î–µ–π—Å—Ç–≤–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (`NavigationAction`)
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (NewsItem, ScheduleItem, ServiceItem –∏ —Ç.–¥.)

### 2. Keyboards (`keyboards/main.go`)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä:
- `MainMenu()` - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- `ServicesMenu()` - –º–µ–Ω—é —Å–µ—Ä–≤–∏—Å–æ–≤
- `ProfileMenu()` - –º–µ–Ω—é –ø—Ä–æ—Ñ–∏–ª—è
- `BackMenu()` - –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π "–ù–∞–∑–∞–¥"
- `HomeMenu()` - –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π "–ì–ª–∞–≤–Ω–∞—è"

### 3. Pages (`pages/pages.go`)
–°—Ç—Ä–∞–Ω–∏—Ü—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞:
- `ShowMainPage()` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `ShowServicesPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- `ShowProfilePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è
- `ShowSchedulePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- `ShowNewsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- `ShowTeachersPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- `ShowContactsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- `ShowMapsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ä—Ç—ã
- `ShowChatsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–æ–≤
- `ShowDebtsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–≥–æ–≤
- `ShowGradebookPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—á–µ—Ç–∫–∏
- `ShowNotificationsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `ShowThemePage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ–º
- `ShowPlatformsPage()` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `HandleCallback()`.

### 4. Handlers (`handlers/handler.go`)
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è:
- `handleMessage()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `handleCallback()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
- `handleBotStarted()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ callback-–∫–Ω–æ–ø–∫–∏. –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –∏–º–µ–µ—Ç `callbackID`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `NavigationAction`:
- `open_main` - –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é
- `open_services` - –æ—Ç–∫—Ä—ã—Ç—å —Å–µ—Ä–≤–∏—Å—ã
- `open_profile` - –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `open_schedule` - –æ—Ç–∫—Ä—ã—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `open_news` - –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
- `back` - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥
- `home` - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `types/types.go`:
```go
const (
    PageNewPage Page = "new_page"
)
```

2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
```go
const (
    ActionOpenNewPage NavigationAction = "open_new_page"
)
```

3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ `pages/pages.go`:
```go
func (p *PagesAPI) ShowNewPage(ctx context.Context, userID int64) error {
    text := "üÜï *–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞*\n\n"
    text += "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã..."

    msg := p.api.Messages.NewMessage().
        SetUser(userID).
        SetText(text).
        AddKeyboard(p.keyboards.BackMenu())

    _, err := p.api.Messages.Send(ctx, msg)
    return err
}
```

4. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ `HandleCallback()`:
```go
case types.ActionOpenNewPage:
    return p.ShowNewPage(ctx, userID)
```

5. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –º–µ–Ω—é –≤ `keyboards/main.go`:
```go
keyboard.
    AddRow().
    AddCallback("üÜï –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞", schemes.POSITIVE, string(types.ActionOpenNewPage))
```

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–≥–ª—É—à–∫–∏. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã –≤ –ø–∞–ø–∫–µ `services/`:
```go
// services/university.go
func GetSchedule(ctx context.Context, userID int64) ([]types.ScheduleItem, error) {
    // –ó–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É API
}
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:
```go
schedule, err := services.GetSchedule(ctx, userID)
if err != nil {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
}
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- `github.com/max-messenger/max-bot-api-client-go v1.0.3` - –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MAX Bot API
- `github.com/joho/godotenv v1.5.1` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env` —Ñ–∞–π–ª–æ–≤

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `go.mod` –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `go mod download`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```go
module max-bot

go 1.23.4

toolchain go1.23.12
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
go mod download
go mod tidy
```

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞:**
```bash
go fmt ./...
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:**
```bash
go vet ./...
```

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å):**
```bash
go test ./...
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:**

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∫–æ–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `air`:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ air
go install github.com/cosmtrek/air@latest

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ (–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ bot/)
air init

# –ó–∞–ø—É—Å–∫ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
air
```

### API –∫–ª–∏–µ–Ω—Ç

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–µ—Ä—Ç–∫—É –Ω–∞–¥ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º MAX Bot API –∫–ª–∏–µ–Ω—Ç–æ–º. –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

- `api/api.go` - –≥–ª–∞–≤–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `api/messages.go` - —Ä–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- `api/chats.go` - —Ä–∞–±–æ—Ç–∞ —Å —á–∞—Ç–∞–º–∏
- `api/admins.go` - —Ä–∞–±–æ—Ç–∞ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- `api/videos.go` - —Ä–∞–±–æ—Ç–∞ —Å –≤–∏–¥–µ–æ

–í—Å–µ –º–µ—Ç–æ–¥—ã API –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫](–õ–û–ö–ê–õ–¨–ù–´–ô_–ó–ê–ü–£–°–ö.md) - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [–û—Å–Ω–æ–≤–Ω–æ–π README](../README.md) - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
- [MAX Bot API](https://max-messenger.com/docs) - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MAX Bot API

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** –ø–µ—Ä–µ–¥ –ª–æ–∫–∞–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º:
   ```bash
   docker stop maxbot_bot
   ```

2. **–§–∞–π–ª `.env`** –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (`Max-University-Bot/.env`), –Ω–µ –≤ –ø–∞–ø–∫–µ `bot/`.

3. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` –≤ `.gitignore`.

4. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `air` –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Ä—É—á–Ω—É—é.

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞: "MAX_BOT_TOKEN is required"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `MAX_BOT_TOKEN` –∑–∞–¥–∞–Ω–∞ –≤ `.env`

**–û—à–∏–±–∫–∞: "Failed to create MAX API client"**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∞–∫—Ç–∏–≤–µ–Ω –∏ –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞

**–û—à–∏–±–∫–∞: "Command 'go' not found"**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Go 1.23+ (—Å–º. —Ä–∞–∑–¥–µ–ª [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞))

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ Docker)**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–æ—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `docker stop maxbot_bot`

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

**–û—à–∏–±–∫–∏ –ø—Ä–∏ `go mod download`:**
```bash
go mod download
go mod tidy
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
go get -u ./...
go mod tidy
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

```go
msg := api.Messages.NewMessage().
    SetUser(userID).
    SetText("–ü—Ä–∏–≤–µ—Ç!").
    AddKeyboard(keyboard)

_, err := api.Messages.Send(ctx, msg)
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

```go
keyboard := api.NewKeyboard()
keyboard.
    AddRow().
    AddCallback("–ö–Ω–æ–ø–∫–∞", schemes.POSITIVE, "callback_id")
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ callback

```go
func (h *Handler) HandleCallback(ctx context.Context, userID int64, callbackID string) error {
    switch callbackID {
    case "open_main":
        return h.pages.ShowMainPage(ctx, userID)
    // ...
    }
}
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞:

1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `go mod download && go mod tidy`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã API –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

---

**–ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üéâ**
